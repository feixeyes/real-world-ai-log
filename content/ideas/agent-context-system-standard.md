# Agent 的上下文工程：一套正在形成事实标准的目录结构

## One-liner
很多人在不同工具/场景下搭 Agent，最后却不约而同收敛到同一套“上下文系统”：`soul.md`（人格与原则）/ `user.md`（用户偏好与边界）/ `skills.md`（能力与工具）/ `memory.md`（连续性）。这不是巧合，而是工程约束下的最小解。

## Why now / Trigger
- 近期在 X 上看到多人提到：不同场景的 Agent 最终交汇在同一套规范：`soul.md / user.md / skills.md / memory.md`。
- 我们自己也在把“写作工程化 + 公众号自动化”做成可复用系统：越往前走，越需要把隐性偏好/边界/决策写成显性上下文。

## Reader outcome
读完能做到：
- 立刻搭一套“可迁移、可维护”的 Agent 工作目录
- 知道每个文件该写什么、不该写什么
- 把聊天/工作流沉淀为可检索资产，而不是散在对话里

## Core points
1. LLM 的“聪明”不等于“可控”，上下文系统负责把行为变成可预期。
2. `soul/user/skills/memory` 对应四类信息：价值观/偏好、任务接口、能力边界、长期状态。
3. 收敛的原因：可维护性（版本化）、可迁移性（换模型/换工具）、可审计性（可回放）。
4. 真正的门槛不是写文件，而是持续更新机制：什么时候写、写到什么粒度。
5. 安全边界：哪些信息只能放本地（cookie/账号）、哪些可以公开复用（模板/流程）。

## Evidence / Material (from our practice)
- 在无 GUI 的服务器上，用 Playwright + cookie injection 跑通：X → 选题 → 草稿箱（含图片）。
- repo 结构逐步稳定：`content/ideas → outlines → drafts → published`，加上 `.docs/workflows` 来固化操作流程。
- 运行约束（cookie 视同凭证、quiet hours、避免外发等）迫使我们把“隐性偏好”写成显性规则。

## Draft outline (v0)
1. 开头：为什么会出现“神奇巧合”的收敛
2. 四个文件分别解决什么问题（各给 1 个反例：没有它会怎样）
3. 最小可用模板：给一份可复制粘贴的骨架
4. 让它成为系统：更新节奏（每日/每周/每次失败复盘）
5. 用我们的公众号自动化链路做示范：从一次失败到修复沉淀
6. 结尾：下一篇预告——用这套上下文系统跑一次真实任务

## Action checklist
- 复制模板 → 10 分钟写完第一版 `soul/user`
- 选 1 个重复任务（例如“抓 X 热点→出备选题”）做成 `skills/` 或脚本
- 规定“写入 memory 的触发条件”（踩坑、决策、偏好、路径）
